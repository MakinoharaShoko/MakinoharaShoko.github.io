<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MSFASR</title>
    
<link rel="stylesheet" href="/css/osx.css">

    
<link rel="stylesheet" href="/css/aside.css">

    
<link rel="stylesheet" href="/css/index.css">

    
<link rel="stylesheet" href="/css/post.css">

    
<link rel="stylesheet" href="/css/tags.css">

    
<link rel="stylesheet" href="/css/highlight.css">

    <!-- 这是引入样式-->


    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>




<meta name="generator" content="Hexo 4.2.0"></head>




<body >

<div class="Finder">
    &nbsp; &nbsp;

<!--    <img src="/img/title-logo_s.png"  alt="apple" id="Apple"/>-->
    <a href="/" id="logo-text" class="FinderText">&nbsp k@M0me’s Humble Abode &nbsp</a>
    <span>
        &nbsp;&nbsp;
    </span>
    <a  href="/" id="blog" class="FinderText">&nbsp博&nbsp&nbsp客&nbsp
<!--        <div id="blogMenu" class="MenuDiv">-->
<!--            <div id="mainpage" class="menuText" >-->
<!--             <a href="/" class="post-url">主页</a>-->
<!--            </div>-->
<!--            <div id="catagory"class="menuText">-->
<!--                <a href="/tags/生活感想" class="post-url">归档</a>-->
<!--            </div>-->
<!--            <div id="archieves" class="menuText">-->
<!--                <a href="/archives" class="post-url">时间线</a>-->
<!--            </div>-->
<!--            <div id="photo" class="menuText">-->
<!--                <a href="/photos" class="post-url">照片墙</a>-->
<!--            </div>-->
<!--        </div>-->
    </a>
    <a href="/archives/2019/08/" id="timeline" class="FinderText">&nbsp时&nbsp间&nbsp线&nbsp</a>
    <a href="/tags/计算机基础" id="cate" class="FinderText">&nbsp归&nbsp&nbsp档&nbsp</a>
    <a href="/aboutNew" id="about" class="FinderText">&nbsp关&nbsp于&nbsp与&nbsp友&nbsp链</a>
<!--    <div id="control" class="FinderText">&nbsp控制&nbsp-->
<!--        <div id="controlMenu"class="MenuDiv">-->
<!--            <div id="backToTop" class="menuText">-->
<!--                <a href="#Showtags" class="post-url">返回顶部</a>-->
<!--            </div>-->
<!--            <div  class="menuText">-->
<!--                <a href="-->
<!--        http://msfasr.com/2021/07/06/2021-7-6-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0/-->
<!--        " class="post-url">上一篇-->
<!--                    </a>-->
<!--            </div>-->
<!--            <div  class="menuText">-->
<!--                <a href="-->
<!--        http://msfasr.com/2021/07/01/2021-7-1-TestLatex/-->
<!--        " class="post-url">下一篇</a>-->
<!--            </div>-->


<!--        </div></div>-->
<!--    <div id="options" class="FinderText">&nbsp选项&nbsp-->
<!--        <div id="optionsMenu"class="MenuDiv">-->
<!--            <div id="share" class="menuText">-->
<!--                <a href="" class="post-url" id="shareThisPage">分享本页</a>-->
<!--            </div>-->

<!--        </div></div>-->
<!--    <div id="about" class="FinderText">&nbsp关于&nbsp-->
<!--        <div id="aboutMenu"class="MenuDiv">-->

<!--            <div id="aboutMain" class="menuText">-->
<!--                <a href="/2019/08/20/About/" class="post-url">个人简介</a>-->
<!--            </div>-->
<!--            <div  class="menuText">-->
<!--                <a href="/2019/08/20/links/" class="post-url">友情链接</a>-->
<!--            </div>-->

<!--            <div  class="menuText">-->
<!--                <a href="mailto:makinoharashoko@outlook.com" class="post-url">邮箱</a>-->
<!--            </div>-->
<!--            <div  class="menuText">-->
<!--                <a href="https://github.com/MakinoharaShoko" target="_blank" rel="noopener" class="post-url">Github</a>-->
<!--            </div>-->
<!--            <div id="twitter"  class="menuText">-->
<!--                <a href="https://twitter.com/_Makinohara" target="_blank" rel="noopener" class="post-url">Twitter</a>-->
<!--            </div>-->

<!--            <div  class="menuText">-->
<!--                <a href="https://github.com/MakinoharaShoko/hexo-OSX-theme" target="_blank" rel="noopener" class="post-url">Theme OS-X by Makinohara</a>-->
<!--            </div>-->
<!--            <div id="author" class="menuText">-->
<!--                <a href="/" class="post-url">©2020 MSFASR Centre Telecom</a>-->
<!--            </div>-->
<!--        </div><nbsp></nbsp></div>-->
<!--    <img src="/img/iconsTop.png" alt="icons"id="icons"/>-->
<!--    <div id="showtime"></div>-->

</div>

<!--now write body-->
<div id="body">
    
<link rel="stylesheet" href="/css/aside.css">


<div id="Content">
    <!-- 引入侧边栏 -->
    <div id="asidePart">
        <nav id="title-list-nav">
            
                <a  class="post-url"
                   href="/2022/02/23/2022-2-23-CORS/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2022-02-23 23:00:00">2022/02/23</div>
                        <div class="post-title" title="有关跨域问题的知识点概述">有关跨域问题的知识点概述</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2022/02/11/2022-2-11-YouthCamp/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2022-02-11 23:00:00">2022/02/11</div>
                        <div class="post-title" title="关于参加字节跳动前端冬季青训营的总结">关于参加字节跳动前端冬季青训营的总结</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/12/18/2021-12-18-Redux1/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-12-18 12:00:01">2021/12/18</div>
                        <div class="post-title" title="Redux初体验">Redux初体验</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/12/14/2021-12-14-FE_List/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-12-14 12:00:01">2021/12/14</div>
                        <div class="post-title" title="前端学习拉清单">前端学习拉清单</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/11/02/2021-11-2-JavaScript2/"
                   data-tag="编程语言"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-11-02 08:00:00">2021/11/02</div>
                        <div class="post-title" title="JavaScript高级程序设计">JavaScript高级程序设计</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/10/24/2021-10-24-WG_3/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-10-24 12:00:01">2021/10/24</div>
                        <div class="post-title" title="记一次前端项目的踩坑与开发经验">记一次前端项目的踩坑与开发经验</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/09/27/2021-9-27-WG_1/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-09-27 12:00:01">2021/09/27</div>
                        <div class="post-title" title="WebGAL开发日志1：我如何打造一个网页版的Galgame游戏引擎">WebGAL开发日志1：我如何打造一个网页版的Galgame游戏引擎</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/09/17/2021-9-17-React/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-09-17 12:00:01">2021/09/17</div>
                        <div class="post-title" title="React">React</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/09/12/2021-9-12-nodeJs/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-09-12 12:00:01">2021/09/12</div>
                        <div class="post-title" title="Node.js">Node.js</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/08/03/2021-8-3-ML/"
                   data-tag="科研应用"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-08-03 12:00:01">2021/08/03</div>
                        <div class="post-title" title="机器学习">机器学习</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/07/09/2021-7-9-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%A4%8D%E4%B9%A0/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-07-09 21:00:01">2021/07/09</div>
                        <div class="post-title" title="计算机组成复习">计算机组成复习</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/07/07/2021-7-7-%E6%B2%A1%E6%9C%89%E4%BB%80%E4%B9%88%E9%81%93%E5%BE%B7/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-07-07 16:00:01">2021/07/07</div>
                        <div class="post-title" title="没有什么道德">没有什么道德</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/07/06/2021-7-6-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-07-06 21:00:01">2021/07/06</div>
                        <div class="post-title" title="操作系统复习">操作系统复习</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/07/01/2021-7-1-sql/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-07-01 21:00:01">2021/07/01</div>
                        <div class="post-title" title="数据库复习">数据库复习</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/07/01/2021-7-1-TestLatex/"
                   data-tag="学习"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-07-01 12:00:01">2021/07/01</div>
                        <div class="post-title" title="测试公式输入">测试公式输入</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/06/30/2021-6-30-ZX/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-06-30 12:00:01">2021/06/30</div>
                        <div class="post-title" title="大学贰年自省录">大学贰年自省录</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/06/16/2021-6-16-CV/"
                   data-tag="科研应用"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-06-16 12:00:01">2021/06/16</div>
                        <div class="post-title" title="计算机视觉——入门">计算机视觉——入门</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2021/03/20/2021-3-23-Maven/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2021-03-20 12:00:00">2021/03/20</div>
                        <div class="post-title" title="Maven">Maven</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/05/08/2020-5-8-ASR-E1/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-05-08 11:00:00">2020/05/08</div>
                        <div class="post-title" title="KMP算法详解">KMP算法详解</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/04/15/2020-3-24-Reduce/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-04-15 23:00:00">2020/04/15</div>
                        <div class="post-title" title="论手机是如何改变我们的思维方式的">论手机是如何改变我们的思维方式的</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/02/24/2020-2-24-HowToWeb/"
                   data-tag="生活感想,工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-02-24 14:00:00">2020/02/24</div>
                        <div class="post-title" title="如何成为Web工程师">如何成为Web工程师</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/02/18/2020-2-18-Web/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-02-18 09:00:00">2020/02/18</div>
                        <div class="post-title" title="Web开发基础">Web开发基础</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/02/17/2020-2-17-Data1/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-02-17 16:13:00">2020/02/17</div>
                        <div class="post-title" title="数据结构1:表、栈和队列">数据结构1:表、栈和队列</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/02/17/2020-2-17-Data2/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-02-17 16:13:00">2020/02/17</div>
                        <div class="post-title" title="数据结构2：树、散列、堆、图">数据结构2：树、散列、堆、图</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/02/17/2020-2-17-Algorithm/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-02-17 16:13:00">2020/02/17</div>
                        <div class="post-title" title="算法分析（基础篇）">算法分析（基础篇）</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/02/16/2020-2-16-DevelopingTheme/"
                   data-tag="工程开发"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-02-16 13:13:00">2020/02/16</div>
                        <div class="post-title" title="开发自己的Hexo主题">开发自己的Hexo主题</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2020/01/20/2020-1-20-Programmer's%20advancement/"
                   data-tag="生活感想,计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2020-01-20 23:13:00">2020/01/20</div>
                        <div class="post-title" title="(转载)程序员修炼之路">(转载)程序员修炼之路</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/12/27/2019-12-27-19End/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-12-27 23:13:00">2019/12/27</div>
                        <div class="post-title" title="To the end of 2019.">To the end of 2019.</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/11/26/2019-11-26-Linux/"
                   data-tag="计算机基础"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-11-26 08:00:00">2019/11/26</div>
                        <div class="post-title" title="How to use Linux">How to use Linux</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/11/19/2019-11-19-Cpp/"
                   data-tag="编程语言"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-11-19 16:00:00">2019/11/19</div>
                        <div class="post-title" title="C++语言学习笔记">C++语言学习笔记</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/11/12/2019-11-12-C/"
                   data-tag="编程语言"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-11-12 10:13:00">2019/11/12</div>
                        <div class="post-title" title="C Programing Language">C Programing Language</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/11/10/2019-11-10-SaveMaths/"
                   data-tag="学习"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-11-10 15:13:00">2019/11/10</div>
                        <div class="post-title" title="如何拯救我的数学">如何拯救我的数学</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/10/25/2019-10-25-Java/"
                   data-tag="编程语言"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-10-25 08:00:00">2019/10/25</div>
                        <div class="post-title" title="Developing in Java">Developing in Java</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/10/25/2019-10-25-Python/"
                   data-tag="编程语言"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-10-25 08:00:00">2019/10/25</div>
                        <div class="post-title" title="Developing in Python">Developing in Python</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/10/03/2019-10-03-Chinese%20Phone/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-10-03 12:00:00">2019/10/03</div>
                        <div class="post-title" title="重返国产机">重返国产机</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/09/30/2019-09-30-Hello%202019/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-09-30 12:00:00">2019/09/30</div>
                        <div class="post-title" title="Hello 2019">Hello 2019</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/09/30/2019-09-30-OneYearLater/"
                   data-tag="生活感想"
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-09-30 12:00:00">2019/09/30</div>
                        <div class="post-title" title="TO: YOU. ONE YEAR LATER">TO: YOU. ONE YEAR LATER</div>
                    </div>

                </a>
            
                <a  class="post-url"
                   href="/2019/08/20/About/"
                   data-tag=""
                   data-author="" >
                    <div class="post-box">

                        <div class="post-date" title="2019-08-20 21:59:02">2019/08/20</div>
                        <div class="post-title" title="About">About</div>
                    </div>

                </a>
            
        </nav>
    </div>

    <div id="content">

        <div class="ArticleHead">
            <div id="Showtags">
                
                    
                    
                        <a href='/tags/计算机基础/'>
                            <div class="singleTag">
                                计算机基础
                            </div>
                        </a>
                    
                
            </div>
            <br/>
            <br/>
            <br/>
            <div class="ArticleText">
                数据库复习
            </div>
            <div class="ArticleTime">
                Published on Thu Jul 01 2021 21:00:01 GMT+0000
            </div>


        </div>
        <div id="article">
            <h1 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h1><p>1、创建与删除</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">#数据库</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> 数据库;<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">database</span> 数据库;<br><br><span class="hljs-comment">#表</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> table1 (<br>    学号 <span class="hljs-built_in">char</span>(<span class="hljs-number">4</span>) primary <span class="hljs-keyword">key</span>,<br>    姓名 <span class="hljs-built_in">char</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span><br>)<br><br><span class="hljs-comment">#索引</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">unique</span> <span class="hljs-keyword">index</span> idx <span class="hljs-keyword">on</span> S(Sno <span class="hljs-keyword">DESC</span>);<span class="hljs-comment">#降序排列</span><br><br><span class="hljs-comment">#视图</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> view_name <span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> s <span class="hljs-keyword">where</span> city = <span class="hljs-string">'New York'</span>;<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">view</span> view_name;<br><br><span class="hljs-comment">#角色</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">role</span> role_name;<br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> S <span class="hljs-keyword">to</span> role_name <span class="hljs-keyword">with</span> <span class="hljs-keyword">grant</span> <span class="hljs-keyword">option</span>;<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">role</span> role_name;<br><br><span class="hljs-comment">#索引：</span><br><span class="hljs-keyword">create</span> [<span class="hljs-keyword">unique</span>|cluster(聚集)]<span class="hljs-keyword">index</span> Index_name <span class="hljs-keyword">on</span> S(Sno);<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">index</span> index_name;<br></code></pre></td></tr></table></figure>

<p>2、查询与修改</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">#基本查询</span><br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S;<br><br><span class="hljs-comment">#带别名</span><br><span class="hljs-keyword">select</span> Sno 学号 , Grade 成绩 , joinGroup 加入社团 <span class="hljs-keyword">from</span> S;<br><br><span class="hljs-comment">#带条件</span><br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> Sage &gt; <span class="hljs-number">18</span>;<br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> Sage <span class="hljs-keyword">between</span> <span class="hljs-number">18</span> <span class="hljs-keyword">and</span> <span class="hljs-number">20</span>;<br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> (<span class="hljs-string">'Yukinoshita'</span>,<span class="hljs-string">'Yui'</span>);<br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">like</span> <span class="hljs-string">'Yukinoshita%'</span>;<br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> joinGroup <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span>;<br><br><span class="hljs-comment">#带排序</span><br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> Grade <span class="hljs-keyword">DESC</span>;<br><span class="hljs-keyword">select</span> top <span class="hljs-number">10</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> Grade <span class="hljs-keyword">DESC</span>;<span class="hljs-comment">#选择前10名的学生。</span><br><br><span class="hljs-comment">#聚集</span><br><span class="hljs-keyword">select</span> <span class="hljs-keyword">avg</span>(Grade) <span class="hljs-keyword">from</span> S;<br><span class="hljs-keyword">select</span> <span class="hljs-keyword">count</span>(*) <span class="hljs-keyword">from</span> S;<br><span class="hljs-keyword">select</span> <span class="hljs-keyword">count</span>(<span class="hljs-keyword">distinct</span> joinGroup) <span class="hljs-keyword">from</span> S;<span class="hljs-comment">#相同内容只计数一次</span><br><span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> S <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> Sno <span class="hljs-keyword">having</span> <span class="hljs-keyword">count</span>(<span class="hljs-keyword">distinct</span> chooseClass) &gt; <span class="hljs-number">3</span>;<br><br><span class="hljs-comment">#连接</span><br><span class="hljs-keyword">select</span> S.* , SC.* <span class="hljs-keyword">from</span> S,SC <span class="hljs-keyword">where</span> S.Cno = SC.Cno;<br><span class="hljs-keyword">select</span> S.Sno , S.name , S.city , SPJ.qty <span class="hljs-keyword">from</span> s , SPJ <br><span class="hljs-keyword">where</span> S.Sno = SPJ.Sno <span class="hljs-keyword">and</span> SPJ.Jno = <span class="hljs-string">'J001'</span> <span class="hljs-keyword">and</span> SPJ.qty &gt;<span class="hljs-number">300</span>;<br><br><span class="hljs-comment">#嵌套</span><br><span class="hljs-keyword">select</span> Sname <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> Sno <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> Sno <span class="hljs-keyword">from</span> SC <span class="hljs-keyword">where</span> Cno = <span class="hljs-string">'1001'</span>);<br></code></pre></td></tr></table></figure>

<p>3、修改</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">#插入</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> S <span class="hljs-keyword">values</span>(<span class="hljs-string">'114514'</span>,<span class="hljs-string">'李田所'</span>,<span class="hljs-string">'C'</span>,<span class="hljs-string">'回家部'</span>,<span class="hljs-string">'24'</span>);<br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">into</span> S <span class="hljs-keyword">from</span> 下北泽高 <span class="hljs-keyword">where</span> Sname <span class="hljs-keyword">like</span> <span class="hljs-string">'李田所'</span>;<span class="hljs-comment">#把信息复制到大学</span><br><br><span class="hljs-comment">#修改</span><br><span class="hljs-keyword">update</span> S <span class="hljs-keyword">set</span> Grade = <span class="hljs-string">'B'</span> <span class="hljs-keyword">where</span> Sno = <span class="hljs-number">114514</span>;<br><br><span class="hljs-comment">#删除</span><br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> Sno = <span class="hljs-number">114514</span>;<br><br><span class="hljs-comment">#批量</span><br><span class="hljs-keyword">update</span> S <span class="hljs-keyword">set</span> Sage = Sage +<span class="hljs-number">1</span> ;<br><br><span class="hljs-comment">#带子查询</span><br><span class="hljs-keyword">update</span> SPJ <span class="hljs-keyword">set</span> QTY = QTY - <span class="hljs-number">50</span> <span class="hljs-keyword">where</span> JNO <span class="hljs-keyword">in</span>( <span class="hljs-keyword">select</span> JNO <span class="hljs-keyword">from</span> J <br>                                           <span class="hljs-keyword">where</span> City = <span class="hljs-string">'天津'</span>);<br>  <br><span class="hljs-comment">#alter</span><br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tableName <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> columnName;<span class="hljs-comment">#删除列</span><br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tableName <span class="hljs-keyword">add</span> <span class="hljs-keyword">column</span> Sbirth <span class="hljs-built_in">char</span>(<span class="hljs-number">20</span>);<span class="hljs-comment">#添加列</span><br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tableName <span class="hljs-keyword">alter</span> <span class="hljs-keyword">column</span> columnname datatype<span class="hljs-comment"># 改变数据类型</span><br><br><span class="hljs-comment">#drop</span><br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">index</span> <span class="hljs-keyword">role</span> ......;<span class="hljs-comment">#drop一般删除数据结构或对象（包括属性列）		，</span><br><span class="hljs-comment">#而delete则倾向于删除对象中的元组。</span><br></code></pre></td></tr></table></figure>



<p>4、视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">#创建</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> S_BJ_VIEW <span class="hljs-keyword">as</span> <br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> S <span class="hljs-keyword">where</span> city = <span class="hljs-string">'北京'</span> <span class="hljs-keyword">with</span> <span class="hljs-keyword">check</span> <span class="hljs-keyword">option</span>;<br><br><span class="hljs-comment">#删除</span><br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">view</span> ViewName;<br><br><span class="hljs-comment">#查询</span><br><span class="hljs-keyword">select</span> Sno,Sname <span class="hljs-keyword">from</span> S_BJ_VIEW <span class="hljs-keyword">where</span> STAT &gt; <span class="hljs-string">'B'</span>;<br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> S_AVGQTY <span class="hljs-keyword">where</span> QAVG &gt;=<span class="hljs-number">300</span>;<br><br><span class="hljs-comment">#视图消解法：</span><br><span class="hljs-comment">#定义的视图：</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> S_AVGQTY(SNO,PNO,QAVG)<br><span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> SNO,PNO,<span class="hljs-keyword">AVG</span>(QTY) <span class="hljs-keyword">from</span> SPJ <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> SNO,PNO;<br><span class="hljs-comment">#查询语句：select * from S_AVGQTY where QAVG &gt;=300;</span><br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> S_AVGQTY <span class="hljs-keyword">where</span> QAVG &gt;=<span class="hljs-number">300</span>;<br><span class="hljs-comment">#转换后：</span><br><span class="hljs-keyword">select</span> SNO,PNO,<span class="hljs-keyword">AVG</span>(QTY) <span class="hljs-keyword">from</span> SPJ <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> SNO,PNO <span class="hljs-keyword">having</span> <span class="hljs-keyword">AVG</span>(QTY)&gt;=<span class="hljs-number">300</span>;<br><br><span class="hljs-comment">#更新数据：</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> S_BJ_VIEW <span class="hljs-keyword">value</span>(<span class="hljs-string">'S7'</span>,<span class="hljs-string">'北京114514电子厂'</span>,<span class="hljs-string">'B'</span>,<span class="hljs-string">'北京'</span>);<br><br><span class="hljs-comment">#删除：</span><br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> S_BJ_VIEW <span class="hljs-keyword">where</span> SNAME = <span class="hljs-string">'北京114514电子厂'</span>;<br></code></pre></td></tr></table></figure>

<p>5、安全性</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">#创建用户</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> userName <span class="hljs-keyword">for</span> login loginName <span class="hljs-keyword">with</span> default_schema = schName;<br><span class="hljs-keyword">create</span> login loginName <span class="hljs-keyword">with</span> <span class="hljs-keyword">password</span> = ..., default_database = DB_NAME;<br><br><span class="hljs-comment">#创建角色</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">role</span> RoleName; <br><span class="hljs-keyword">grant</span> RoleName <span class="hljs-keyword">to</span> UserName <span class="hljs-keyword">with</span> <span class="hljs-keyword">admin</span> <span class="hljs-keyword">option</span>;<br><br><span class="hljs-comment">#权限管理</span><br><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> S <span class="hljs-keyword">to</span> Rolename/Username; <span class="hljs-comment">#with grant option:可以传递权限</span><br><span class="hljs-keyword">revoke</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> S <span class="hljs-keyword">from</span> Rolename/Username;<br>deny <span class="hljs-keyword">update</span> <span class="hljs-keyword">on</span> S <span class="hljs-keyword">to</span> Rolename/Username;<span class="hljs-comment">#拒绝这一权限，使其加入其他有update权限组后仍然不能执行该操作。</span><br></code></pre></td></tr></table></figure>

<p>6、完整性：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">#主码定义：</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> s(<br>    Sno <span class="hljs-built_in">char</span>(<span class="hljs-number">4</span>) primary <span class="hljs-keyword">key</span>;<br>    ......<br>)<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> s(<br>    ......<br>    primary <span class="hljs-keyword">key</span> (Sno);<br>)<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> s (<br>	......<br>    primary <span class="hljs-keyword">key</span>(Sno,Pno,Jno);<br>)<br><br><span class="hljs-comment">#参照完整性：</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> s(<br>	......<br>    <span class="hljs-keyword">foreign</span> <span class="hljs-keyword">key</span> (SNO) <span class="hljs-keyword">references</span> s(SNO);<br>)<br><br><span class="hljs-comment">#其他完整性：</span><br>not null <span class="hljs-comment">#非空</span><br>unique <span class="hljs-comment"># 唯一</span><br>default 'defaultValue' <span class="hljs-comment">#默认值</span><br><br><span class="hljs-comment">#check约束</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> s(<br>	......<br>    STAT <span class="hljs-built_in">Char</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">check</span>(STAT <span class="hljs-keyword">in</span> (<span class="hljs-string">'A'</span>,<span class="hljs-string">'B'</span>,<span class="hljs-string">'C'</span>)),<br>    ......<br>)<br><br><span class="hljs-comment">#constraint命令</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> s (<br>	......<br>    Sname <span class="hljs-built_in">char</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">constraint</span> c1 <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-comment"># 此时c1这一完整性约束(constraint)的值为not null</span><br>)<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> s <span class="hljs-keyword">drop</span> <span class="hljs-keyword">constraint</span> c1;<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> s <span class="hljs-keyword">add</span> <span class="hljs-keyword">constraint</span> c2 <span class="hljs-keyword">check</span>(......);<br></code></pre></td></tr></table></figure>

<h1 id="数据库概念复习"><a href="#数据库概念复习" class="headerlink" title="数据库概念复习"></a>数据库概念复习</h1><h2 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h2><p>1、选择</p>
<p>$$\sigma(R)_F={t|t \in R\wedge F(t) = true}$$</p>
<p>2、投影</p>
<p>$$\Pi_A(R)={t[A]|t \in R}$$</p>
<p>3、连接</p>
<p>等值连接：选取笛卡尔级中等值的那些元组</p>
<p>自然连接：在等值连接的基础上去掉重复的属性列</p>
<p>4、除运算</p>
<p>R÷S:</p>
<p>用于选出以下内容：</p>
<p>属性：在R不在S的属性</p>
<p>元组：删去的属性对得上在R中的值</p>
<p>比如：</p>
<p>R:</p>
<p>Sno Jno</p>
<p>a      1</p>
<p>b      2</p>
<p>c      3</p>
<p>S:</p>
<p>1</p>
<p>3</p>
<p>R÷S:</p>
<p>Sno</p>
<p>a</p>
<p>c</p>
<p><strong>其他较为重要的运算：交并减、笛卡尔积</strong></p>
<h2 id="数据库安全"><a href="#数据库安全" class="headerlink" title="数据库安全"></a>数据库安全</h2><h3 id="自主："><a href="#自主：" class="headerlink" title="自主："></a>自主：</h3><p>授予权限的类型：</p>
<table>
<thead>
<tr>
<th>基本表、视图</th>
<th>属性列</th>
</tr>
</thead>
<tbody><tr>
<td>select insert update delete references all privileges</td>
<td>select insert update references all privileges</td>
</tr>
</tbody></table>
<p>一个简单的例子：</p>
<p>grant update(Sno),select on table SC to User1;</p>
<p>对属性列：权限后面加括号，表明该权限生效的属性列</p>
<p>可传递：with grant option;</p>
<p>收回权限：同grant，但有需要注意的地方：</p>
<p>最后加 cascade/restrict：是否级联操作或约束操作。</p>
<p>角色：</p>
<p>创建：create role rolename ;</p>
<p>授予权限同用户</p>
<p>将角色权限授予用户：grant Rolename to User;</p>
<p>解除权限：revoke Rolename from User;</p>
<p>撤销授权同用户</p>
<h3 id="强制："><a href="#强制：" class="headerlink" title="强制："></a>强制：</h3><p>设定若干级别：</p>
<p>TS&gt;=S&gt;=C&gt;=P</p>
<p>访问规则：</p>
<p>主体许可证等级大于等于客体，可以读。</p>
<p>主体许可证等级小于等于客体，可以写。</p>
<p>第二条解释：高许可证主体没有办法写出一个更低等级的客体。</p>
<p>视图：</p>
<p>create view as(select……);</p>
<p>grant select on view to ……;</p>
<h2 id="完整性："><a href="#完整性：" class="headerlink" title="完整性："></a>完整性：</h2><p>实体完整性：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> ...(<br>    ......<br>    Sname <span class="hljs-built_in">char</span>(<span class="hljs-number">20</span>) primary <span class="hljs-keyword">key</span>;<span class="hljs-comment">#在列级</span><br>    <br>    ......<br>    primary key (Sname);<span class="hljs-comment">#在表级</span><br>    <br>    primary key (Sname,Sno);<span class="hljs-comment">#在表级，多列</span><br><br>)<br></code></pre></td></tr></table></figure>

<p>参照完整性：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> S2(<br>    ......<br>    <span class="hljs-keyword">foreign</span> <span class="hljs-keyword">key</span> (Sno) <span class="hljs-keyword">references</span> S(Sno)<span class="hljs-comment">#表级定义参照完整性</span><br>    <span class="hljs-keyword">on</span> <span class="hljs-keyword">delete</span> <span class="hljs-keyword">cascade</span> <span class="hljs-keyword">on</span> <span class="hljs-keyword">update</span> <span class="hljs-keyword">cascade</span>,<span class="hljs-comment">#级联删除、更新</span><br>)<br></code></pre></td></tr></table></figure>

<p>约束语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> R1(<br>    Sno <span class="hljs-built_in">char</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span>,<span class="hljs-comment">#非空</span><br>    ...... <span class="hljs-keyword">unique</span>,<span class="hljs-comment">#列值唯一</span><br>    ......check( ......in(......集合))<br>    <br>    <span class="hljs-keyword">check</span> (Ssex = <span class="hljs-string">'female'</span><span class="hljs-keyword">or</span> Sname <span class="hljs-keyword">not</span> <span class="hljs-keyword">like</span> <span class="hljs-string">'Ms.%'</span>);<br>    <br>    <br>    <span class="hljs-comment">#constraint</span><br>    Sno char(20) constraint C1 <span class="hljs-keyword">check</span>(......);<span class="hljs-comment">#形成一个名为C1的约束条件</span><br>    <br>    ......<br>    constraint C2 <span class="hljs-keyword">check</span>(......)<span class="hljs-comment">#在表级定义约束条件</span><br>)<br><br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> R1 <span class="hljs-keyword">drop</span> <span class="hljs-keyword">constraint</span> C1;<span class="hljs-comment">#删除约束条件</span><br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> R1 <span class="hljs-keyword">create</span> <span class="hljs-keyword">constraint</span> c3 <span class="hljs-keyword">check</span>(......);<span class="hljs-comment">#创建约束条件，表级。</span><br></code></pre></td></tr></table></figure>

<h3 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h3><p>在操作时，使断言不为真的操作拒绝执行。</p>
<p>创建断言：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">assertion</span> assertion_name <span class="hljs-keyword">check</span> (......);<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">assertion</span> A1 <span class="hljs-keyword">check</span>(<span class="hljs-number">60</span>&gt;=<span class="hljs-keyword">select</span> <span class="hljs-keyword">count</span>(*) <span class="hljs-keyword">from</span> SC <span class="hljs-keyword">where</span> C = <span class="hljs-string">'Cource1'</span>);<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">assertion</span> A2 <span class="hljs-keyword">check</span>(<span class="hljs-number">60</span>&gt;=<span class="hljs-keyword">all</span>(<span class="hljs-keyword">select</span> <span class="hljs-keyword">count</span>(*) <span class="hljs-keyword">from</span> SC <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> ...));<br></code></pre></td></tr></table></figure>

<h3 id="触发器："><a href="#触发器：" class="headerlink" title="触发器："></a>触发器：</h3><p>触发器用于在某条件由于操作成立时触发其他操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">trigger</span> trigger_name <span class="hljs-keyword">before</span>/<span class="hljs-keyword">after</span> <span class="hljs-keyword">update</span> <span class="hljs-keyword">on</span> SC<br><span class="hljs-keyword">referencing</span> <span class="hljs-keyword">new</span>/<span class="hljs-keyword">old</span> <span class="hljs-keyword">row</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">variable</span><span class="hljs-comment">#触发器内设变量：原值和新值</span><br><span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> <span class="hljs-keyword">row</span> / <span class="hljs-keyword">statement</span><span class="hljs-comment">#每行触发还是每条语句触发</span><br><span class="hljs-keyword">when</span>(......)<span class="hljs-comment">#触发条件，比如new.grade&gt;=old.grade</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Table_name(......) <span class="hljs-keyword">values</span> (......)<br><br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">trigger</span> trigger_name;<span class="hljs-comment">#删除（删除对象用drop）</span><br></code></pre></td></tr></table></figure>

<h2 id="规范化"><a href="#规范化" class="headerlink" title="规范化"></a>规范化</h2><p>1NF：不可分割</p>
<p>2NF：属性由一码确定</p>
<p>3NF：没有不完全函数依赖，没有传递函数依赖</p>
<p>BCNF：每个决定因素都有码</p>
<p>4NF：不存在非平凡、非函数依赖的多值依赖</p>
<p>规范化的实质：概念的单一化</p>
<h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="E-R图"><a href="#E-R图" class="headerlink" title="E-R图"></a>E-R图</h3><p>联系：菱形，两侧写是1-1、1-n还是n-1的依赖。</p>
<p>属性：圆形，属性不能有属性（不可再分）</p>
<p>实体：矩形</p>
<h3 id="实体描述："><a href="#实体描述：" class="headerlink" title="实体描述："></a>实体描述：</h3><p>实体{实体的主码（下划线），属性1，属性2，属性3}</p>
<h2 id="数据库的故障恢复、数据库的并发控制："><a href="#数据库的故障恢复、数据库的并发控制：" class="headerlink" title="数据库的故障恢复、数据库的并发控制："></a>数据库的故障恢复、数据库的并发控制：</h2><h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><p>事务：一个数据库操作序列，具有ACID特性，即原子性、一致性、隔离性、持续性（永久性）</p>
<h3 id="数据库的日志文件"><a href="#数据库的日志文件" class="headerlink" title="数据库的日志文件"></a>数据库的日志文件</h3><p>日志文件记录：</p>
<p>事务标识、操作类型、操作对象、操作前值、操作后值。</p>
<h3 id="故障处理"><a href="#故障处理" class="headerlink" title="故障处理"></a>故障处理</h3><p>事务故障：反向扫描日志文件，撤销已经完成的操作</p>
<p>系统故障：视事务完成情况选择是撤销还是重做，撤销：根据日志写更新前值；重做：根据日志写更新后值。</p>
<p>介质故障：从恢复介质重装数据，然后重做已经完成的事务。</p>
<h3 id="并发控制"><a href="#并发控制" class="headerlink" title="并发控制"></a>并发控制</h3><h4 id="封锁"><a href="#封锁" class="headerlink" title="封锁"></a>封锁</h4><p>X锁（写锁）：上X锁后，其他事务不能读写。</p>
<p>S锁（读锁）：上S锁后，其他事务可以再上S锁，可以读，但是不能写。</p>
<h5 id="封锁协议"><a href="#封锁协议" class="headerlink" title="封锁协议"></a>封锁协议</h5><p>一级封锁协议：事务在修改数据前必须加X锁，直至事务结束释放。</p>
<p>二级封锁协议：在一级的基础上，事务读要上S锁，读完释放。</p>
<p>三级封锁协议：在一级的基础上，事务读要上S锁，且事务结束时才释放（解决了不可重复读问题）。</p>
<h3 id="活锁与死锁"><a href="#活锁与死锁" class="headerlink" title="活锁与死锁"></a>活锁与死锁</h3><p>活锁：事务由于等待其他事务结束无法完成（解决：先来先服务）。</p>
<p>死锁：事务间循环等待导致数个事务不能结束（解决：采取措施避免或每隔一段时间诊断死锁并清除）。</p>
<h3 id="意向锁（Intention-Lock）"><a href="#意向锁（Intention-Lock）" class="headerlink" title="意向锁（Intention Lock）"></a>意向锁（Intention Lock）</h3><p>IS锁：对一个对象加IS锁，意味着拟对其后裔结点加S锁。如果要对某个元组加S锁，必须先给关系加IS锁。</p>
<p>IX锁：类似IS锁</p>
<p>SIX锁：对这个对象加S锁，然后加IX锁，代表这个事务希望读这个对象，并可能更新个别元组。</p>

        </div>

    </div>


</div>

</div>

<!--Now Write Bottom -->
<!--
 <div id="Bottom">
    <a href="/">
        <img src="/img/mail.png" class="BottomImg" >
    </a>
    <a href="/tags/BigNotes">
        <img src="/img/missioncontrol.png" class="BottomImg">
    </a>
    <a href="/archives">
        <img src="/img/reminders.png" class="BottomImg">
    </a>
    <a href="/photos">
        <img src="/img/preview.png" class="BottomImg">
    </a>




</div>
-->





<script src="/js/osx.js"></script>

</body>
</html>
