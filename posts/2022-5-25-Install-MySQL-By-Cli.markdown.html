<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/cfd688f8087f37ee.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cfd688f8087f37ee.css" data-n-g=""/><link rel="preload" href="/_next/static/css/50425c9106578cba.css" as="style"/><link rel="stylesheet" href="/_next/static/css/50425c9106578cba.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-5020794388548d5e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a5d8213a709af092.js" defer=""></script><script src="/_next/static/chunks/175675d1-7de8b3bfdcedb0f1.js" defer=""></script><script src="/_next/static/chunks/9f96d65d-c9e0543547ce45e9.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-c0ab723d8d52e6df.js" defer=""></script><script src="/_next/static/I01GBGHEDt8htGui4sv1q/_buildManifest.js" defer=""></script><script src="/_next/static/I01GBGHEDt8htGui4sv1q/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="mainLayout_out__ZYqWw" style="height:calc(100vh - var(--vh-offset, 0px))"><div class="mainLayout_mainarea__QxaY0"><div class="post_post__ejhnw"><div class="post_top__JuBkM"><div class="post_b__Bj3sV"><img alt="back" src="/_next/static/media/back.f6d17d78.png" width="480" height="480" decoding="async" data-nimg="1" class="post_bi__9ghX8" loading="lazy" style="color:transparent"/></div><div class="post_tit__Xu2qi">MySQL installation by CLI<img alt="open" src="/_next/static/media/down.9feac32f.png" width="480" height="480" decoding="async" data-nimg="1" class="post_iconSmall__5Hxz8" loading="lazy" style="color:transparent"/></div><div class="post_b__Bj3sV"><img alt="close" src="/_next/static/media/close.315313d8.png" width="480" height="480" decoding="async" data-nimg="1" class="post_bi__9ghX8" loading="lazy" style="color:transparent"/></div></div><div class="post_mdWarpper__Brjcd"><div class="markdown-body post_md__a6C1y"><h2 id="命令行安装-mysql">命令行安装 MySQL</h2>
<h3 id="配置环境变量">配置环境变量</h3>
<h4 id="新建变量">新建变量</h4>
<pre><code>变量名：MYSQL_HOME

值：安装路径
</code></pre>
<h4 id="添加path路径">添加PATH路径</h4>
<pre><code>%MYSQL_HOME%\bin
</code></pre>
<h3 id="安装mysql">安装MySQL</h3>
<h4 id="初始化并记录初始化密码">初始化并记录初始化密码</h4>
<pre><code class="language-shell">mysqld --initialize --console
</code></pre>
<h4 id="将mysql安装为windows的服务">将MySQL安装为Windows的服务</h4>
<pre><code class="language-shell">mysqld -install
</code></pre>
<h4 id="启动mysql">启动MySQL</h4>
<pre><code class="language-shell">net start MySQL
</code></pre>
<h4 id="登陆数据库并输入前面记录的临时密码">登陆数据库，并输入前面记录的临时密码</h4>
<pre><code class="language-shell">mysql -u root -p
</code></pre>
<h4 id="修改自己的密码123456--命令一定要包括分号">修改自己的密码：123456  ,命令一定要包括分号</h4>
<pre><code class="language-mysql">alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified by &#x27;123456&#x27;;
alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified with mysql_native_password by &#x27;123456&#x27;;  
</code></pre>
<h4 id="最后提交">最后提交</h4>
<pre><code class="language-mysql">commit;
</code></pre>
<h2 id="补充删除mysql">补充：删除MySQL</h2>
<pre><code class="language-shell">net stop mysql
mysqld -remove
</code></pre>
<h2 id="补充连接mysql">补充：连接MySQL</h2>
<h3 id="springboot">SpringBoot</h3>
<pre><code class="language-properties">#MYSQL链接
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306[(可选)/database]?serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=123456
</code></pre>
<h3 id="nestjs">NestJS</h3>
<h4 id="引入包">引入包</h4>
<pre><code>yarn add @nestjs/typeorm typeorm mysql2
</code></pre>
<h4 id="导入到appmodulets">导入到<code>app.module.ts</code></h4>
<pre><code class="language-typescript">import { Module } from &#x27;@nestjs/common&#x27;;
import { TypeOrmModule } from &#x27;@nestjs/typeorm&#x27;;

@Module({
  imports: [
    TypeOrmModule.forRoot({
      type: &#x27;mysql&#x27;,
      host: &#x27;localhost&#x27;,
      port: 3306,
      username: &#x27;root&#x27;,
      password: &#x27;root&#x27;,
      database: &#x27;test&#x27;,
      entities: [],
      synchronize: true,
    }),
  ],
})
export class AppModule {}

</code></pre>
<p>另外，我们可以创建 <code>ormconfig.json</code> ，而不是将配置对象传递给 <code>forRoot()</code>。</p>
<pre><code class="language-bash">{
  &quot;type&quot;: &quot;mysql&quot;,
  &quot;host&quot;: &quot;localhost&quot;,
  &quot;port&quot;: 3306,
  &quot;username&quot;: &quot;root&quot;,
  &quot;password&quot;: &quot;root&quot;,
  &quot;database&quot;: &quot;test&quot;,
  &quot;entities&quot;: [&quot;dist/**/*.entity{.ts,.js}&quot;],
  &quot;synchronize&quot;: true
}
</code></pre>
<p>然后，我们可以不带任何选项地调用 <code>forRoot()</code> :</p>
<blockquote>
<p>app.module.ts</p>
</blockquote>
<pre><code class="language-typescript">import { Module } from &#x27;@nestjs/common&#x27;;
import { TypeOrmModule } from &#x27;@nestjs/typeorm&#x27;;

@Module({
  imports: [TypeOrmModule.forRoot()],
})
export class AppModule {}
</code></pre></div></div></div></div><div class="mainLayout_bottom__As9s_"><div class="mainLayout_tag__Ep3_f"><img alt="launcher" src="/_next/static/media/launcher.d8f01379.png" width="1024" height="1024" decoding="async" data-nimg="1" class="mainLayout_tagImg__qoDJq" loading="lazy" style="color:transparent"/></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":"---\nlayout:     post\ntitle:      MySQL installation by CLI\nintro:   \"\"\ndate:       2022-5-25 23:30:00\nauthor:     \"Mahiru\"\ncatalog: true\ntags:\n    - 工程开发\n---\n\n## 命令行安装 MySQL\n\n### 配置环境变量\n\n#### 新建变量\n\n```\n变量名：MYSQL_HOME\n\n值：安装路径\n```\n\n#### 添加PATH路径\n\n```\n%MYSQL_HOME%\\bin\n```\n\n### 安装MySQL\n\n#### 初始化并记录初始化密码\n\n```shell\nmysqld --initialize --console\n```\n\n#### 将MySQL安装为Windows的服务\n\n```shell\nmysqld -install\n```\n\n#### 启动MySQL\n\n```shell\nnet start MySQL\n```\n\n#### 登陆数据库，并输入前面记录的临时密码\n\n```shell\nmysql -u root -p\n```\n\n#### 修改自己的密码：123456  ,命令一定要包括分号\n\n```mysql\nalter user 'root'@'localhost' identified by '123456';\nalter user 'root'@'localhost' identified with mysql_native_password by '123456';  \n```\n\n#### 最后提交 \n\n```mysql\ncommit;\n```\n\n## 补充：删除MySQL\n\n```shell\nnet stop mysql\nmysqld -remove\n```\n\n## 补充：连接MySQL\n\n### SpringBoot\n\n```properties\n#MYSQL链接\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306[(可选)/database]?serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=123456\n```\n\n### NestJS\n\n#### 引入包\n\n```\nyarn add @nestjs/typeorm typeorm mysql2\n```\n\n#### 导入到`app.module.ts`\n\n```typescript\nimport { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\n\n@Module({\n  imports: [\n    TypeOrmModule.forRoot({\n      type: 'mysql',\n      host: 'localhost',\n      port: 3306,\n      username: 'root',\n      password: 'root',\n      database: 'test',\n      entities: [],\n      synchronize: true,\n    }),\n  ],\n})\nexport class AppModule {}\n\n```\n\n另外，我们可以创建 `ormconfig.json` ，而不是将配置对象传递给 `forRoot()`。\n\n```bash\n{\n  \"type\": \"mysql\",\n  \"host\": \"localhost\",\n  \"port\": 3306,\n  \"username\": \"root\",\n  \"password\": \"root\",\n  \"database\": \"test\",\n  \"entities\": [\"dist/**/*.entity{.ts,.js}\"],\n  \"synchronize\": true\n}\n```\n\n然后，我们可以不带任何选项地调用 `forRoot()` :\n\n\u003e app.module.ts\n\n```typescript\nimport { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\n\n@Module({\n  imports: [TypeOrmModule.forRoot()],\n})\nexport class AppModule {}\n```\n"},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2022-5-25-Install-MySQL-By-Cli.markdown"},"buildId":"I01GBGHEDt8htGui4sv1q","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>